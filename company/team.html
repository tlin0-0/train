<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.1/js/bootstrap.min.js"></script> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
      
    </style>
    <title>Document</title>
</head>
<body>
    <header>
        <nav>
          <div class="logo">
            <span><img src="/train/img/guozu_logo.png" alt="gzlogo"></span>
            <span><p>中国男子足球国家队</p></span>
        </div>
        <div class="item">
          <ul>
            <li><a href="index.html">首页</a></li>
            <li><a href="team.html">新闻</a></li>
            <li><a href="about.html">关于我们</a></li>
          </ul>    
             </div>           
    </nav>
    </header>
    
    <ul class="list">

    </ul>
        <!-- 分页 -->
<div aria-label="Page navigation">
    <ul class="pagination">
      <li onclick="pre()" class="page-item PageDirection"><a class="page-link" href="#">&laquo;</a></li>
      <li onclick="getUrl(1)" class="page-item pageSize"><a class="page-link" href="#">1</a></li>
      <li onclick="getUrl(2)" class="page-item pageSize"><a class="page-link" href="#">2</a></li>
      <li onclick="getUrl(3)" class="page-item pageSize"><a class="page-link" href="#">3</a></li>
      <li onclick="next()" class="page-item PageDirection"><a class="page-link" href="#">&raquo;</a></li>
      </ul>
    </div>

<footer>
    <div id="other">
         <div class="row">
            <div class="col"> <i class="bi bi-building"></i>
              <p>福建省闽侯县溪源宫路200号</p> </div>
        </div>
        <div class="row">
            <div class="col"> <i class="bi bi-envelope"></i>
              <p>mju@example.com</p></div>
        </div>
        <div class="row">
            <div class="col"> <i class="bi bi-telephone"></i>
              <p>400-123-4567</p></div>
        </div>
         
         <div class="row">
             <div class="col"><img id="smile" src="/train/img/smile.jpg" alt=""></div>
            </div> 
        </div>
        <div id="bottom"><p>版权所有&copy;right tlin</p></div>
    </footer>
 
    <script>

        let current=Number(window.location.href.split("?page=")[1] ) || 1;
        function getUrl(page){
            window.location.href=`?page=${page}`
        }

        function pre(){
           if(current>1) 
                getUrl(current-1);
        }
        function next(){
            if(current<3)
            getUrl(current+1);
        }
        page(current);

        function page(page){
            current=page;
            console.log(current,"current");
            $(`.pagination li:nth-child(${current+1})`).addClass("active")
            $(`.pagination li:nth-child(${current+1})`).siblings().removeClass("active")
            $('.list').empty();
            axios.get(`https://www.fastmock.site/mock/c875cd8dad2155ed530fbc97a96be65a/test01/test1?page=${page}`).then(function (res){
            console.log(res.data);
            for(let i=0;i<4;i++){
                let li= $('<li></li>');
                li.append(`<img width='300px' height='400px' src=${res.data.data.list[i].images[0].src}>`);
                li.append(`<h3>名字:${res.data.data.list[i].name}</h3>`);
                li.append(`<p>位置:${res.data.data.list[i].position}</p>`);
                li.append(`<p>出生年月:${res.data.data.list[i].date_created}</p>`);
                li.attr('id', res.data.data.list[i].id);
                $('.list').append(li);
                } 
                $('.list li').click(function () {
                    // getUrl(current);
                console.log($(this));
                 window.location.href = `./detail.html?id=${$(this).attr('id')}`
                 page=1;
                })
            

        
    })
   
    $('.pageSize').click(function(){
        $('.pageSize').removeClass('active');
        $(this).addClass('active');
    })
   
    }

    </script>
</body>
</html>